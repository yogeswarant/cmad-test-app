<html>
<head>
<title>Vertx Illustrations staging</title>
<script>
	function compute() {
		var p = document.getElementById("p").value;
		var t = document.getElementById("t").value;
		var r = document.getElementById("r").value;
		var json = {
			"p" : parseInt(p),
			"t" : parseInt(t),
			"r" : parseInt(r)
		};
		var xhr = new XMLHttpRequest();
		xhr.open("post", "/bank/compute", true);
		xhr.setRequestHeader("Content-Type", "application/json");
		xhr.onreadhstatechange = function() {
			if (xhr.readyState == 4 && xhr.status == 200) {
				console.log(xhr);
			}
		};
		xhr.send(JSON.stringify(json));
		return false;
	}
</script>
</head>
<body>
	<h1>Vertx Illustrations v2.0</h1>
	<hr />
	<h2>Request and JSON Handling</h2>
		<table>
			<tr>
				<td>Amount</td>
				<td><input id="p" /></td>
			</tr>
			<tr>
				<td>Years</td>
				<td><input id="t" /></td>
			</tr>
			<tr>
				<td>Rate</td>
				<td><input id="r" /></td>
			</tr>
			<tr>
				<td colspan="2"><button onclick="return compute()">Compute
						Simple Interest'</button></td>
			</tr>
		</table>
</body>
</html>
